{"uid":"99dc09d43bb68083","name":"test_freeze_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"8fac570613189c2919a673774a1a29dd","time":{"start":1714960358793,"stop":1714960458148,"duration":99355},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1714958898153,"stop":1714958898153,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1714958898154,"stop":1714958898154,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1714958898154,"stop":1714958898454,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1714960174239,"stop":1714960176385,"duration":2146},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1714960358792,"stop":1714960358792,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1714960358793,"stop":1714960358793,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"8d4bc9015002e4a5","name":"log","source":"8d4bc9015002e4a5.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1714960458150,"stop":1714960459187,"duration":1037},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1714960459189,"stop":1714960459189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1714963076601,"stop":1714963210281,"duration":133680},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7a0cf52bf0a0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/helpers.py\", line 130, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1714963210288,"stop":1714963210969,"duration":681},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1714963210973,"stop":1714963210975,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1714963210975,"stop":1714963210975,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1714963210975,"stop":1714963210975,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-411-024301426342145d639f5647"},{"name":"thread","value":"10712-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":23,"unknown":0,"total":23},"items":[{"uid":"577f30d0f9156f57","reportUrl":"../30//#testresult/577f30d0f9156f57","status":"passed","time":{"start":1714874022837,"stop":1714874132078,"duration":109241}},{"uid":"a2d75a886dc6ee37","reportUrl":"../29//#testresult/a2d75a886dc6ee37","status":"passed","time":{"start":1714787681447,"stop":1714787806053,"duration":124606}},{"uid":"99f6123326e8b052","reportUrl":"../27//#testresult/99f6123326e8b052","status":"passed","time":{"start":1714701094006,"stop":1714701232197,"duration":138191}},{"uid":"3e5f43e718c81e89","reportUrl":"../26//#testresult/3e5f43e718c81e89","status":"passed","time":{"start":1714614999717,"stop":1714615132379,"duration":132662}},{"uid":"7b6483b42593d95d","reportUrl":"../25//#testresult/7b6483b42593d95d","status":"passed","time":{"start":1714528343832,"stop":1714528484956,"duration":141124}},{"uid":"3bad4c4c6898546e","reportUrl":"../24//#testresult/3bad4c4c6898546e","status":"passed","time":{"start":1714441987687,"stop":1714442088164,"duration":100477}},{"uid":"cfdbc9911e0e9948","reportUrl":"../23//#testresult/cfdbc9911e0e9948","status":"passed","time":{"start":1714355438300,"stop":1714355580377,"duration":142077}},{"uid":"c2e2f4462d9bf7b1","reportUrl":"../22//#testresult/c2e2f4462d9bf7b1","status":"passed","time":{"start":1714269557681,"stop":1714269692541,"duration":134860}},{"uid":"7681c521848ae302","reportUrl":"../20//#testresult/7681c521848ae302","status":"passed","time":{"start":1714182714892,"stop":1714182821028,"duration":106136}},{"uid":"70c306ade5e7dfb8","reportUrl":"../19//#testresult/70c306ade5e7dfb8","status":"passed","time":{"start":1714096696169,"stop":1714096787804,"duration":91635}},{"uid":"ab6c0fa9720b1b6f","reportUrl":"../18//#testresult/ab6c0fa9720b1b6f","status":"passed","time":{"start":1714009876170,"stop":1714010014702,"duration":138532}},{"uid":"69bc80e7e0274809","reportUrl":"../17//#testresult/69bc80e7e0274809","status":"passed","time":{"start":1713924033851,"stop":1713924235868,"duration":202017}},{"uid":"ccd5a2cbabb0574d","reportUrl":"../16//#testresult/ccd5a2cbabb0574d","status":"passed","time":{"start":1713837115652,"stop":1713837247239,"duration":131587}},{"uid":"657d12e06302148","reportUrl":"../15//#testresult/657d12e06302148","status":"passed","time":{"start":1713750791312,"stop":1713750927014,"duration":135702}},{"uid":"757698bf1ff37b15","reportUrl":"../11//#testresult/757698bf1ff37b15","status":"passed","time":{"start":1713491573327,"stop":1713491710558,"duration":137231}},{"uid":"eb664323496f2903","reportUrl":"../10//#testresult/eb664323496f2903","status":"passed","time":{"start":1713405068062,"stop":1713405202325,"duration":134263}},{"uid":"a42ab32ca8cc5579","reportUrl":"../9//#testresult/a42ab32ca8cc5579","status":"passed","time":{"start":1713318891703,"stop":1713319044091,"duration":152388}},{"uid":"911fb0520e3cfd1f","reportUrl":"../8//#testresult/911fb0520e3cfd1f","status":"passed","time":{"start":1713232454859,"stop":1713232597676,"duration":142817}},{"uid":"189b9ab45839e5e8","reportUrl":"../7//#testresult/189b9ab45839e5e8","status":"passed","time":{"start":1713151328400,"stop":1713151443377,"duration":114977}},{"uid":"ef50954aad936bb2","reportUrl":"../6//#testresult/ef50954aad936bb2","status":"passed","time":{"start":1713059776594,"stop":1713059905258,"duration":128664}}]},"tags":["asyncio","group(1)"]},"source":"99dc09d43bb68083.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}