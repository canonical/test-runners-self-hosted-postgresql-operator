{"uid":"ed6031fd14a504bf","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1715133814841,"stop":1715133876404,"duration":61563},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1715131887703,"stop":1715131887703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1715131887703,"stop":1715131887703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1715131887704,"stop":1715131888051,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1715133805288,"stop":1715133805288,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1715133805289,"stop":1715133812741,"duration":7452},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1715133805289,"stop":1715133805289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1715133812741,"stop":1715133814840,"duration":2099},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1715133876406,"stop":1715133876487,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1715133876488,"stop":1715133885870,"duration":9382},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1715133885871,"stop":1715133886911,"duration":1040},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1715133886913,"stop":1715133886913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1715135112969,"stop":1715135113928,"duration":959},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1715135113934,"stop":1715135113938,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1715135113938,"stop":1715135113938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1715135113939,"stop":1715135113941,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-529-d63bf39e9670c47ea0e9dfea"},{"name":"thread","value":"9098-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":7,"broken":1,"skipped":0,"passed":17,"unknown":0,"total":25},"items":[{"uid":"aa2a53f7576d184e","reportUrl":"../34//#testresult/aa2a53f7576d184e","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7dbe04f50130 state=finished raised AssertionError>]","time":{"start":1715047262752,"stop":1715047504688,"duration":241936}},{"uid":"6553ecd4a7f19103","reportUrl":"../31//#testresult/6553ecd4a7f19103","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1714961235462,"stop":1714962257239,"duration":1021777}},{"uid":"46c44ca015747bf7","reportUrl":"../30//#testresult/46c44ca015747bf7","status":"passed","time":{"start":1714874252137,"stop":1714874298677,"duration":46540}},{"uid":"34d82c420c81917c","reportUrl":"../29//#testresult/34d82c420c81917c","status":"passed","time":{"start":1714788008990,"stop":1714788092795,"duration":83805}},{"uid":"86701757079ce030","reportUrl":"../27//#testresult/86701757079ce030","status":"passed","time":{"start":1714701381334,"stop":1714701428188,"duration":46854}},{"uid":"b396aa85346a03eb","reportUrl":"../26//#testresult/b396aa85346a03eb","status":"passed","time":{"start":1714615257602,"stop":1714615308608,"duration":51006}},{"uid":"27225ea153c6f9d9","reportUrl":"../25//#testresult/27225ea153c6f9d9","status":"passed","time":{"start":1714528672724,"stop":1714528724651,"duration":51927}},{"uid":"59f175b58ae3f704","reportUrl":"../24//#testresult/59f175b58ae3f704","status":"passed","time":{"start":1714442212024,"stop":1714442242419,"duration":30395}},{"uid":"610ef9278daf173a","reportUrl":"../23//#testresult/610ef9278daf173a","status":"passed","time":{"start":1714355807252,"stop":1714355875109,"duration":67857}},{"uid":"c2667645980f0fe0","reportUrl":"../22//#testresult/c2667645980f0fe0","status":"passed","time":{"start":1714269823787,"stop":1714269865129,"duration":41342}},{"uid":"1aab51904d08c932","reportUrl":"../20//#testresult/1aab51904d08c932","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1714183592421,"stop":1714183849991,"duration":257570}},{"uid":"3b81ec1625a1e842","reportUrl":"../19//#testresult/3b81ec1625a1e842","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1714097549109,"stop":1714098727718,"duration":1178609}},{"uid":"149540abdfbc9622","reportUrl":"../18//#testresult/149540abdfbc9622","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1714010792639,"stop":1714011663550,"duration":870911}},{"uid":"1c978c6ce2a3395","reportUrl":"../17//#testresult/1c978c6ce2a3395","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1713925075151,"stop":1713925335394,"duration":260243}},{"uid":"3b46dfaac20c10e3","reportUrl":"../16//#testresult/3b46dfaac20c10e3","status":"passed","time":{"start":1713837411706,"stop":1713837451773,"duration":40067}},{"uid":"a1b7731ed2d3568b","reportUrl":"../15//#testresult/a1b7731ed2d3568b","status":"passed","time":{"start":1713751046179,"stop":1713751093610,"duration":47431}},{"uid":"ec3f3fe19a2cfe70","reportUrl":"../11//#testresult/ec3f3fe19a2cfe70","status":"passed","time":{"start":1713491854756,"stop":1713491898249,"duration":43493}},{"uid":"ec6d84cf580c9eb","reportUrl":"../10//#testresult/ec6d84cf580c9eb","status":"passed","time":{"start":1713405337237,"stop":1713405379874,"duration":42637}},{"uid":"92d8afb3518ac3ce","reportUrl":"../9//#testresult/92d8afb3518ac3ce","status":"failed","statusDetails":"AssertionError: members report different lists of cluster members.","time":{"start":1713319149508,"stop":1713319184682,"duration":35174}},{"uid":"ca0e8fb251cb100a","reportUrl":"../8//#testresult/ca0e8fb251cb100a","status":"passed","time":{"start":1713232734560,"stop":1713232802871,"duration":68311}}]},"tags":["asyncio","group(1)"]},"source":"ed6031fd14a504bf.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}