{"uid":"7e0b35b664e2edd6","name":"test_restart_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"5275b7647c50948f92e67ea83d5d7646","time":{"start":1717466708053,"stop":1717466738515,"duration":30462},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1717464637219,"stop":1717464637220,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1717464637220,"stop":1717464637220,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1717464637220,"stop":1717464637582,"duration":362},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1717466304520,"stop":1717466306672,"duration":2152},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1717466708052,"stop":1717466708052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1717466708052,"stop":1717466708052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"1c1fe3e98bf816","name":"log","source":"1c1fe3e98bf816.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1717466738517,"stop":1717466739550,"duration":1033},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1717466739551,"stop":1717466739551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1717468801155,"stop":1717468935503,"duration":134348},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x72fa9d847f70 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/helpers.py\", line 130, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1717468935510,"stop":1717468936078,"duration":568},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1717468936082,"stop":1717468936083,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1717468936083,"stop":1717468936083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1717468936083,"stop":1717468936084,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-434-cc10af77965ba4415011b0db"},{"name":"thread","value":"10890-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":16,"unknown":0,"total":18},"items":[{"uid":"c516cd2bf762d45b","reportUrl":"../66//#testresult/c516cd2bf762d45b","status":"passed","time":{"start":1717379597950,"stop":1717379621812,"duration":23862}},{"uid":"759bdfc6d8f5c630","reportUrl":"../65//#testresult/759bdfc6d8f5c630","status":"passed","time":{"start":1717293767708,"stop":1717293798176,"duration":30468}},{"uid":"2c32b01231c14376","reportUrl":"../64//#testresult/2c32b01231c14376","status":"passed","time":{"start":1717207127819,"stop":1717207159485,"duration":31666}},{"uid":"453af9664ce8fbc6","reportUrl":"../62//#testresult/453af9664ce8fbc6","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7bb1959178b0 state=finished raised AssertionError>]","time":{"start":1717121307376,"stop":1717121497764,"duration":190388}},{"uid":"fa5ec0ae99ddf0cc","reportUrl":"../61//#testresult/fa5ec0ae99ddf0cc","status":"passed","time":{"start":1717034161133,"stop":1717034189289,"duration":28156}},{"uid":"3fc300f0676d7cec","reportUrl":"../60//#testresult/3fc300f0676d7cec","status":"passed","time":{"start":1716947866334,"stop":1716947900376,"duration":34042}},{"uid":"732a773f3d9f4201","reportUrl":"../59//#testresult/732a773f3d9f4201","status":"passed","time":{"start":1716861669343,"stop":1716861699377,"duration":30034}},{"uid":"76c20a815843c510","reportUrl":"../58//#testresult/76c20a815843c510","status":"passed","time":{"start":1716774900115,"stop":1716774933671,"duration":33556}},{"uid":"893b03068f9aa2cf","reportUrl":"../57//#testresult/893b03068f9aa2cf","status":"passed","time":{"start":1716688531143,"stop":1716688561946,"duration":30803}},{"uid":"64a1e20a5884bff7","reportUrl":"../55//#testresult/64a1e20a5884bff7","status":"passed","time":{"start":1716515868710,"stop":1716515899311,"duration":30601}},{"uid":"d068a501bc5303d3","reportUrl":"../52//#testresult/d068a501bc5303d3","status":"failed","statusDetails":"AssertionError: members report different lists of cluster members.","time":{"start":1716343200867,"stop":1716343239065,"duration":38198}},{"uid":"737d5718fb2d067e","reportUrl":"../49//#testresult/737d5718fb2d067e","status":"passed","time":{"start":1716256511456,"stop":1716256541826,"duration":30370}},{"uid":"24c5765dcaf41928","reportUrl":"../48//#testresult/24c5765dcaf41928","status":"passed","time":{"start":1716170314324,"stop":1716170343753,"duration":29429}},{"uid":"b522910752afe9b4","reportUrl":"../47//#testresult/b522910752afe9b4","status":"passed","time":{"start":1716083650826,"stop":1716083684846,"duration":34020}},{"uid":"ef9c9ad9609e7c4","reportUrl":"../46//#testresult/ef9c9ad9609e7c4","status":"passed","time":{"start":1715997367447,"stop":1715997403828,"duration":36381}},{"uid":"86c9ba56c1d1b6f4","reportUrl":"../45//#testresult/86c9ba56c1d1b6f4","status":"passed","time":{"start":1715911139661,"stop":1715911172135,"duration":32474}},{"uid":"80b0910e1ba137a4","reportUrl":"../44//#testresult/80b0910e1ba137a4","status":"passed","time":{"start":1715824656032,"stop":1715824683744,"duration":27712}}]},"tags":["asyncio","group(1)"]},"source":"7e0b35b664e2edd6.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}