{"uid":"cfdbc9911e0e9948","name":"test_freeze_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"8fac570613189c2919a673774a1a29dd","time":{"start":1714355438300,"stop":1714355580377,"duration":142077},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1714354022816,"stop":1714354022817,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1714354022817,"stop":1714354022817,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1714354022818,"stop":1714354023137,"duration":319},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1714355241740,"stop":1714355245937,"duration":4197},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1714355438299,"stop":1714355438299,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1714355438300,"stop":1714355438300,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"1acb9c88f24adc17","name":"log","source":"1acb9c88f24adc17.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1714355580380,"stop":1714355581438,"duration":1058},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1714355581442,"stop":1714355581442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1714357016988,"stop":1714357150531,"duration":133543},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7b6a0c50af50 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/helpers.py\", line 130, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1714357150539,"stop":1714357151241,"duration":702},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1714357151246,"stop":1714357151249,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1714357151249,"stop":1714357151249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1714357151249,"stop":1714357151251,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-541-4971f1a943ea8aa2a88f7c35"},{"name":"thread","value":"10212-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":16,"unknown":0,"total":16},"items":[{"uid":"c2e2f4462d9bf7b1","reportUrl":"../22//#testresult/c2e2f4462d9bf7b1","status":"passed","time":{"start":1714269557681,"stop":1714269692541,"duration":134860}},{"uid":"7681c521848ae302","reportUrl":"../20//#testresult/7681c521848ae302","status":"passed","time":{"start":1714182714892,"stop":1714182821028,"duration":106136}},{"uid":"70c306ade5e7dfb8","reportUrl":"../19//#testresult/70c306ade5e7dfb8","status":"passed","time":{"start":1714096696169,"stop":1714096787804,"duration":91635}},{"uid":"ab6c0fa9720b1b6f","reportUrl":"../18//#testresult/ab6c0fa9720b1b6f","status":"passed","time":{"start":1714009876170,"stop":1714010014702,"duration":138532}},{"uid":"69bc80e7e0274809","reportUrl":"../17//#testresult/69bc80e7e0274809","status":"passed","time":{"start":1713924033851,"stop":1713924235868,"duration":202017}},{"uid":"ccd5a2cbabb0574d","reportUrl":"../16//#testresult/ccd5a2cbabb0574d","status":"passed","time":{"start":1713837115652,"stop":1713837247239,"duration":131587}},{"uid":"657d12e06302148","reportUrl":"../15//#testresult/657d12e06302148","status":"passed","time":{"start":1713750791312,"stop":1713750927014,"duration":135702}},{"uid":"757698bf1ff37b15","reportUrl":"../11//#testresult/757698bf1ff37b15","status":"passed","time":{"start":1713491573327,"stop":1713491710558,"duration":137231}},{"uid":"eb664323496f2903","reportUrl":"../10//#testresult/eb664323496f2903","status":"passed","time":{"start":1713405068062,"stop":1713405202325,"duration":134263}},{"uid":"a42ab32ca8cc5579","reportUrl":"../9//#testresult/a42ab32ca8cc5579","status":"passed","time":{"start":1713318891703,"stop":1713319044091,"duration":152388}},{"uid":"911fb0520e3cfd1f","reportUrl":"../8//#testresult/911fb0520e3cfd1f","status":"passed","time":{"start":1713232454859,"stop":1713232597676,"duration":142817}},{"uid":"189b9ab45839e5e8","reportUrl":"../7//#testresult/189b9ab45839e5e8","status":"passed","time":{"start":1713151328400,"stop":1713151443377,"duration":114977}},{"uid":"ef50954aad936bb2","reportUrl":"../6//#testresult/ef50954aad936bb2","status":"passed","time":{"start":1713059776594,"stop":1713059905258,"duration":128664}},{"uid":"3a769fafd016f123","reportUrl":"../4//#testresult/3a769fafd016f123","status":"passed","time":{"start":1712972957399,"stop":1712973057338,"duration":99939}},{"uid":"6d68c9d045d95e32","reportUrl":"../2//#testresult/6d68c9d045d95e32","status":"passed","time":{"start":1712886844761,"stop":1712886987768,"duration":143007}}]},"tags":["asyncio","group(1)"]},"source":"cfdbc9911e0e9948.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}