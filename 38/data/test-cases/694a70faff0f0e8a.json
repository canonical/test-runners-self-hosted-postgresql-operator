{"uid":"694a70faff0f0e8a","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1715393049873,"stop":1715393406501,"duration":356628},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1715390839128,"stop":1715390839129,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1715390839129,"stop":1715390839411,"duration":282},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1715390839129,"stop":1715390839129,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1715392258801,"stop":1715392262980,"duration":4179},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1715393049872,"stop":1715393049873,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1715393049873,"stop":1715393049873,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"647a8639dd32816","name":"log","source":"647a8639dd32816.txt","type":"text/plain","size":3581}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1715393406510,"stop":1715393407562,"duration":1052},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1715393407568,"stop":1715393407568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1715393506074,"stop":1715393640519,"duration":134445},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7bbf2e60eb30 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/helpers.py\", line 130, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1715393640534,"stop":1715393641470,"duration":936},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1715393641473,"stop":1715393641476,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1715393641476,"stop":1715393641476,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1715393641476,"stop":1715393641478,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-525-9e7c4d0c7b51cc19dd158f7a"},{"name":"thread","value":"10759-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":8,"skipped":0,"passed":19,"unknown":0,"total":28},"items":[{"uid":"7ca660ef929ab1fc","reportUrl":"../37//#testresult/7ca660ef929ab1fc","status":"passed","time":{"start":1715307245532,"stop":1715307721483,"duration":475951}},{"uid":"3af72e4368151730","reportUrl":"../36//#testresult/3af72e4368151730","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/0","time":{"start":1715222217380,"stop":1715222338974,"duration":121594}},{"uid":"51cf2b8ebc313c86","reportUrl":"../35//#testresult/51cf2b8ebc313c86","status":"passed","time":{"start":1715134115710,"stop":1715134666246,"duration":550536}},{"uid":"ca7344cfbaddb643","reportUrl":"../34//#testresult/ca7344cfbaddb643","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7dbe04ba3820 state=finished raised AssertionError>]","time":{"start":1715049513230,"stop":1715049699144,"duration":185914}},{"uid":"712d6680468d7ab8","reportUrl":"../31//#testresult/712d6680468d7ab8","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/2","time":{"start":1714962454520,"stop":1714962759594,"duration":305074}},{"uid":"610c852e1733b5f0","reportUrl":"../30//#testresult/610c852e1733b5f0","status":"passed","time":{"start":1714874621326,"stop":1714875168513,"duration":547187}},{"uid":"7e32172c46bba5bc","reportUrl":"../29//#testresult/7e32172c46bba5bc","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/1 [idle] active: Primary\n  postgresql/2 [idle] waiting: awaiting for member to start\n  postgresql/3 [idle] active:","time":{"start":1714788403041,"stop":1714789546602,"duration":1143561}},{"uid":"ab9a3b557d88ac99","reportUrl":"../27//#testresult/ab9a3b557d88ac99","status":"passed","time":{"start":1714701653732,"stop":1714702166601,"duration":512869}},{"uid":"541f1e80b09fa05a","reportUrl":"../26//#testresult/541f1e80b09fa05a","status":"passed","time":{"start":1714615635517,"stop":1714616155608,"duration":520091}},{"uid":"d178a98004d35115","reportUrl":"../25//#testresult/d178a98004d35115","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/2","time":{"start":1714529006753,"stop":1714529103417,"duration":96664}},{"uid":"5836c5cc251e3061","reportUrl":"../24//#testresult/5836c5cc251e3061","status":"passed","time":{"start":1714442570157,"stop":1714443044532,"duration":474375}},{"uid":"81fab2d7ea4f77bb","reportUrl":"../23//#testresult/81fab2d7ea4f77bb","status":"passed","time":{"start":1714356145368,"stop":1714356702288,"duration":556920}},{"uid":"74c0aff188c8c176","reportUrl":"../22//#testresult/74c0aff188c8c176","status":"passed","time":{"start":1714270189340,"stop":1714270704959,"duration":515619}},{"uid":"1245cd36ff95b299","reportUrl":"../20//#testresult/1245cd36ff95b299","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7c555bd9c730 state=finished raised AssertionError>]","time":{"start":1714185778577,"stop":1714185998004,"duration":219427}},{"uid":"5b5e7a794f93a37a","reportUrl":"../19//#testresult/5b5e7a794f93a37a","status":"passed","time":{"start":1714098996151,"stop":1714099341261,"duration":345110}},{"uid":"e534d950a39995a5","reportUrl":"../18//#testresult/e534d950a39995a5","status":"passed","time":{"start":1714012146542,"stop":1714012562555,"duration":416013}},{"uid":"45d8a0d60ce34559","reportUrl":"../17//#testresult/45d8a0d60ce34559","status":"passed","time":{"start":1713925617550,"stop":1713926020327,"duration":402777}},{"uid":"9e05e3d6d5a5ed47","reportUrl":"../16//#testresult/9e05e3d6d5a5ed47","status":"passed","time":{"start":1713837801570,"stop":1713838251167,"duration":449597}},{"uid":"3346811ab7026289","reportUrl":"../15//#testresult/3346811ab7026289","status":"passed","time":{"start":1713751434412,"stop":1713751873908,"duration":439496}},{"uid":"443a8c15a35683b9","reportUrl":"../11//#testresult/443a8c15a35683b9","status":"passed","time":{"start":1713492268419,"stop":1713492760958,"duration":492539}}]},"tags":["asyncio","group(1)"]},"source":"694a70faff0f0e8a.json","parameterValues":[]}