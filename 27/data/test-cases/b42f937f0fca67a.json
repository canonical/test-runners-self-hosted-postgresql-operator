{"uid":"b42f937f0fca67a","name":"test_restart_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"5275b7647c50948f92e67ea83d5d7646","time":{"start":1714701286844,"stop":1714701317179,"duration":30335},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1714699648738,"stop":1714699648739,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1714699648739,"stop":1714699648739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1714699648739,"stop":1714699648998,"duration":259},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1714700910313,"stop":1714700912452,"duration":2139},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1714701286842,"stop":1714701286843,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1714701286843,"stop":1714701286843,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"ffcbe0afa3aab5b9","name":"log","source":"ffcbe0afa3aab5b9.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1714701317181,"stop":1714701318212,"duration":1031},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1714701318213,"stop":1714701318213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1714702269440,"stop":1714702403479,"duration":134039},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f96bfd01120 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/helpers.py\", line 130, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1714702403483,"stop":1714702404043,"duration":560},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1714702404046,"stop":1714702404046,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1714702404046,"stop":1714702404046,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1714702404046,"stop":1714702404047,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-421-d53827f35d30781ee230ad09"},{"name":"thread","value":"9748-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":20,"unknown":0,"total":20},"items":[{"uid":"a599e80f81db25f3","reportUrl":"../26//#testresult/a599e80f81db25f3","status":"passed","time":{"start":1714615166599,"stop":1714615192485,"duration":25886}},{"uid":"cf15d9b7289c652","reportUrl":"../25//#testresult/cf15d9b7289c652","status":"passed","time":{"start":1714528539193,"stop":1714528571042,"duration":31849}},{"uid":"6948c3e091696820","reportUrl":"../24//#testresult/6948c3e091696820","status":"passed","time":{"start":1714442126666,"stop":1714442157107,"duration":30441}},{"uid":"b8f49af5250d5428","reportUrl":"../23//#testresult/b8f49af5250d5428","status":"passed","time":{"start":1714355656159,"stop":1714355703273,"duration":47114}},{"uid":"41d23ed7eeef3a5f","reportUrl":"../22//#testresult/41d23ed7eeef3a5f","status":"passed","time":{"start":1714269734730,"stop":1714269759494,"duration":24764}},{"uid":"ca84ac1886e2cbe8","reportUrl":"../20//#testresult/ca84ac1886e2cbe8","status":"passed","time":{"start":1714182863736,"stop":1714182892885,"duration":29149}},{"uid":"41ed14b774bb2f34","reportUrl":"../19//#testresult/41ed14b774bb2f34","status":"passed","time":{"start":1714096821667,"stop":1714096852833,"duration":31166}},{"uid":"2292a42022f592e5","reportUrl":"../18//#testresult/2292a42022f592e5","status":"passed","time":{"start":1714010055515,"stop":1714010089087,"duration":33572}},{"uid":"f12c76fd9a69a481","reportUrl":"../17//#testresult/f12c76fd9a69a481","status":"passed","time":{"start":1713924333149,"stop":1713924372170,"duration":39021}},{"uid":"9a9b7df1f05233b7","reportUrl":"../16//#testresult/9a9b7df1f05233b7","status":"passed","time":{"start":1713837306335,"stop":1713837343349,"duration":37014}},{"uid":"77ce397e01fd2af7","reportUrl":"../15//#testresult/77ce397e01fd2af7","status":"passed","time":{"start":1713750962769,"stop":1713750987535,"duration":24766}},{"uid":"a25f145561935764","reportUrl":"../11//#testresult/a25f145561935764","status":"passed","time":{"start":1713491751568,"stop":1713491786671,"duration":35103}},{"uid":"c96ef3b4850743f8","reportUrl":"../10//#testresult/c96ef3b4850743f8","status":"passed","time":{"start":1713405243038,"stop":1713405270771,"duration":27733}},{"uid":"416f0a55fdbaf0be","reportUrl":"../9//#testresult/416f0a55fdbaf0be","status":"passed","time":{"start":1713319072364,"stop":1713319098883,"duration":26519}},{"uid":"68202c5fb1fbaca5","reportUrl":"../8//#testresult/68202c5fb1fbaca5","status":"passed","time":{"start":1713232639606,"stop":1713232681344,"duration":41738}},{"uid":"7f8d2e5a1f81ce18","reportUrl":"../7//#testresult/7f8d2e5a1f81ce18","status":"passed","time":{"start":1713151476907,"stop":1713151505092,"duration":28185}},{"uid":"1d1d69e3d3143742","reportUrl":"../6//#testresult/1d1d69e3d3143742","status":"passed","time":{"start":1713059942149,"stop":1713059971291,"duration":29142}},{"uid":"366fe081cd498477","reportUrl":"../4//#testresult/366fe081cd498477","status":"passed","time":{"start":1712973091803,"stop":1712973121334,"duration":29531}},{"uid":"add7e8b45cb15602","reportUrl":"../2//#testresult/add7e8b45cb15602","status":"passed","time":{"start":1712887039153,"stop":1712887073704,"duration":34551}}]},"tags":["asyncio","group(1)"]},"source":"b42f937f0fca67a.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}