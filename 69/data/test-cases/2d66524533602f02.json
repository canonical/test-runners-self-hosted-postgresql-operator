{"uid":"2d66524533602f02","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1717639466984,"stop":1717639974816,"duration":507832},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"ops_test","time":{"start":1717637263134,"stop":1717637263343,"duration":209},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1717637263134,"stop":1717637263134,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1717637263134,"stop":1717637263134,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1717638738882,"stop":1717638741016,"duration":2134},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1717639466983,"stop":1717639466983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1717639466983,"stop":1717639466983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"69853790831842a7","name":"log","source":"69853790831842a7.txt","type":"text/plain","size":3008}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1717639974821,"stop":1717639975867,"duration":1046},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1717639975869,"stop":1717639975870,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1717640071551,"stop":1717640205287,"duration":133736},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x78e338211630 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/tests/integration/ha_tests/helpers.py\", line 130, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/ubuntu/github-runner/_work/test-runners-self-hosted-postgresql-operator/test-runners-self-hosted-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1717640205291,"stop":1717640205795,"duration":504},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1717640205797,"stop":1717640205797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1717640205797,"stop":1717640205797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1717640205797,"stop":1717640205798,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-424-fb5b08d4016c87f237fe7790"},{"name":"thread","value":"11856-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":15,"unknown":0,"total":20},"items":[{"uid":"9af7996cc04207b5","reportUrl":"../68//#testresult/9af7996cc04207b5","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x768c90ca7730 state=finished raised AssertionError>]","time":{"start":1717556314869,"stop":1717556518279,"duration":203410}},{"uid":"bfc1200fa95e4365","reportUrl":"../67//#testresult/bfc1200fa95e4365","status":"passed","time":{"start":1717467951136,"stop":1717468490472,"duration":539336}},{"uid":"d584013a087f68e","reportUrl":"../66//#testresult/d584013a087f68e","status":"passed","time":{"start":1717380797505,"stop":1717381177460,"duration":379955}},{"uid":"9d3ddb741b767f7f","reportUrl":"../65//#testresult/9d3ddb741b767f7f","status":"passed","time":{"start":1717295746720,"stop":1717296127985,"duration":381265}},{"uid":"2b5622510fd48ddb","reportUrl":"../64//#testresult/2b5622510fd48ddb","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/2","time":{"start":1717209215106,"stop":1717209307679,"duration":92573}},{"uid":"b54b1413c3d37856","reportUrl":"../62//#testresult/b54b1413c3d37856","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7bb1954eada0 state=finished raised AssertionError>]","time":{"start":1717124298826,"stop":1717124522362,"duration":223536}},{"uid":"d525d571254d2382","reportUrl":"../61//#testresult/d525d571254d2382","status":"passed","time":{"start":1717034639568,"stop":1717035172431,"duration":532863}},{"uid":"8909adb0d02893de","reportUrl":"../60//#testresult/8909adb0d02893de","status":"passed","time":{"start":1716948352083,"stop":1716948761803,"duration":409720}},{"uid":"cfe2cb9f6e69412c","reportUrl":"../59//#testresult/cfe2cb9f6e69412c","status":"passed","time":{"start":1716862124880,"stop":1716862626677,"duration":501797}},{"uid":"c1fc159e3f61b75a","reportUrl":"../58//#testresult/c1fc159e3f61b75a","status":"passed","time":{"start":1716776889892,"stop":1716777430543,"duration":540651}},{"uid":"ca2de27cdfdd4934","reportUrl":"../57//#testresult/ca2de27cdfdd4934","status":"passed","time":{"start":1716689022004,"stop":1716689573113,"duration":551109}},{"uid":"41c90fd6d4d7198f","reportUrl":"../55//#testresult/41c90fd6d4d7198f","status":"passed","time":{"start":1716516315446,"stop":1716516721142,"duration":405696}},{"uid":"2f4c1e9dfc3f9a8b","reportUrl":"../52//#testresult/2f4c1e9dfc3f9a8b","status":"passed","time":{"start":1716343937849,"stop":1716344515344,"duration":577495}},{"uid":"8ba36df05376b61a","reportUrl":"../49//#testresult/8ba36df05376b61a","status":"passed","time":{"start":1716257811378,"stop":1716258274283,"duration":462905}},{"uid":"a7ba8a3db98a744","reportUrl":"../48//#testresult/a7ba8a3db98a744","status":"passed","time":{"start":1716171523549,"stop":1716171958844,"duration":435295}},{"uid":"84e64acae3fcfd9c","reportUrl":"../47//#testresult/84e64acae3fcfd9c","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7965e1046530 state=finished raised AssertionError>]","time":{"start":1716084364439,"stop":1716084625479,"duration":261040}},{"uid":"b3abe28e00643e6e","reportUrl":"../46//#testresult/b3abe28e00643e6e","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/0","time":{"start":1715998928338,"stop":1715999039294,"duration":110956}},{"uid":"aff59757dd5a3a0e","reportUrl":"../45//#testresult/aff59757dd5a3a0e","status":"passed","time":{"start":1715911595158,"stop":1715912016968,"duration":421810}},{"uid":"5e2e0fa9887253d6","reportUrl":"../44//#testresult/5e2e0fa9887253d6","status":"passed","time":{"start":1715825062703,"stop":1715825610049,"duration":547346}}]},"tags":["asyncio","group(1)"]},"source":"2d66524533602f02.json","parameterValues":[]}